# Conventions ‚Äî To The Moon (Python)

–í–µ—Ä—Å–∏—è: 2.0 ‚Ä¢ –î–∞—Ç–∞: 2025‚Äë09‚Äë17

–¶–µ–ª—å: –µ–¥–∏–Ω—ã–µ –∏ –ø—Ä–æ—Å—Ç—ã–µ –ø—Ä–∞–≤–∏–ª–∞ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏, —á—Ç–æ–±—ã –±—ã—Å—Ç—Ä–æ –∏ —Å—Ç–∞–±–∏–ª—å–Ω–æ –≤—ã–ø—É—Å–∫–∞—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è –±–µ–∑ –æ–≤–µ—Ä–∏–Ω–∂–∏–Ω–∏—Ä–∏–Ω–≥–∞. –û–±–Ω–æ–≤–ª–µ–Ω–æ –¥–ª—è –ø–æ–¥–¥–µ—Ä–∂–∫–∏ –Ω–æ–≤–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã —Å–∫–æ—Ä–∏–Ω–≥–∞ —Å –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–º–∏ –º–æ–¥–µ–ª—è–º–∏.

## –°—Ç–µ–∫ –∏ –≤–µ—Ä—Å–∏–∏
- Python 3.10+.
- FastAPI, SQLAlchemy 2.x, Alembic, APScheduler (–≤—ã–±—Ä–∞–Ω –∫–∞–∫ –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫).
- Pydantic v2, pydantic‚Äësettings.
- HTTP: httpx (async), WebSocket: websockets/async websockets –∫–ª–∏–µ–Ω—Ç.
- Frontend: React + Vite + TypeScript.

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞
- `src/` ‚Äî –∏—Å—Ö–æ–¥–Ω—ã–π –∫–æ–¥ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.
- `src/app/` ‚Äî FastAPI –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ (–∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è, —Ä–æ—É—Ç—ã, DI, middlewares).
- `src/domain/` ‚Äî –¥–æ–º–µ–Ω–Ω–∞—è –ª–æ–≥–∏–∫–∞:
  - `src/domain/scoring/` ‚Äî –º–æ–¥–µ–ª–∏ —Å–∫–æ—Ä–∏–Ω–≥–∞ (HybridMomentumModel, ComponentCalculator, EWMAService)
  - `src/domain/metrics/` ‚Äî –∞–≥—Ä–µ–≥–∞—Ç–æ—Ä—ã –º–µ—Ç—Ä–∏–∫ (EnhancedDexAggregator)
  - `src/domain/settings/` ‚Äî —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏
  - `src/domain/validation/` ‚Äî –≤–∞–ª–∏–¥–∞—Ç–æ—Ä—ã –¥–∞–Ω–Ω—ã—Ö
- `src/adapters/` ‚Äî –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏:
  - `src/adapters/services/` ‚Äî –≤–Ω–µ—à–Ω–∏–µ API (DexScreener, Pump.fun WS)
  - `src/adapters/repositories/` ‚Äî —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏ –¥–∞–Ω–Ω—ã—Ö
  - `src/adapters/db/` ‚Äî –º–æ–¥–µ–ª–∏ –ë–î –∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
- `src/core/` ‚Äî –∫–æ–Ω—Ñ–∏–≥, –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ, —É—Ç–∏–ª–∏—Ç—ã, –æ—à–∏–±–∫–∏.
- `src/scheduler/` ‚Äî –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –∑–∞–¥–∞—á –∏ –≤–æ—Ä–∫–µ—Ä—ã.
- `migrations/` ‚Äî Alembic –º–∏–≥—Ä–∞—Ü–∏–∏.
- `scripts/` ‚Äî —Å–ª—É–∂–µ–±–Ω—ã–µ —Å–∫—Ä–∏–ø—Ç—ã –∑–∞–ø—É—Å–∫–∞ –∏ –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏.
- `tests/` ‚Äî —Ç–µ—Å—Ç—ã (unit/integration).
- `frontend/` ‚Äî –∏—Å—Ö–æ–¥–Ω–∏–∫–∏ SPA (React + Vite).

**–ü—Ä–∏–Ω—Ü–∏–ø—ã –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã**:
- –ß–∏—Å—Ç–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞: Domain ‚Üí Adapters ‚Üí App
- Dependency Injection —á–µ—Ä–µ–∑ FastAPI
- –ï–¥–∏–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö –º–æ–¥–µ–ª–µ–π —Å–∫–æ—Ä–∏–Ω–≥–∞
- –ú–∏–Ω–∏–º–∏–∑–∏—Ä—É–µ–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–ª–æ—ë–≤, –Ω–æ —Å–æ—Ö—Ä–∞–Ω—è–µ–º —á–µ—Ç–∫–æ–µ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏

## –ö–æ–¥‚Äë—Å—Ç–∞–π–ª
- PEP‚Äë8, —Ç–∏–ø–∏–∑–∞—Ü–∏—è –≤–µ–∑–¥–µ (mypy —Å–æ–≤–º–µ—Å—Ç–∏–º–æ).
- –ò–º–µ–Ω–∞: snake_case –¥–ª—è —Ñ—É–Ω–∫—Ü–∏–π/–ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö, PascalCase –¥–ª—è –∫–ª–∞—Å—Å–æ–≤, UPPER_SNAKE –¥–ª—è –∫–æ–Ω—Å—Ç–∞–Ω—Ç.
- –î–æ–∫—Å—Ç—Ä–∏–Ω–≥–∏ —Ñ–æ—Ä–º–∞—Ç–∞ Google –∏–ª–∏ NumPy –¥–ª—è –ø—É–±–ª–∏—á–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π/–∫–ª–∞—Å—Å–æ–≤.
- –ò—Å–∫–ª—é—á–µ–Ω–∏—è: —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–µ –∏—Å–∫–ª—é—á–µ–Ω–∏—è –≤ `core.exceptions`.
- –ò–º–ø–æ—Ä—Ç—ã: —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ ‚Üí —Å—Ç–æ—Ä–æ–Ω–Ω–∏–µ ‚Üí –ª–æ–∫–∞–ª—å–Ω—ã–µ (isort –ø–æ—Ä—è–¥–æ–∫).
- –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ/–ª–∏–Ω—Ç: black, ruff (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é, –±–µ–∑ —Ñ–∞–Ω–∞—Ç–∏–∑–º–∞ –≤ –∫–æ–Ω—Ñ–∏–≥–µ).

## –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
- –§–æ—Ä–º–∞—Ç: JSON (—Å—Ç—Ä—É–∫—Ç—É—Ä–Ω—ã–µ –ª–æ–≥–∏), —É—Ä–æ–≤–µ–Ω—å INFO –¥–ª—è –ø—Ä–æ–¥, DEBUG –¥–ª—è —Ç–µ—Å—Ç–æ–≤.
- –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—è: `ts`, `level`, `msg`, `service`, `env`, `version`, `module`, `op`, `trace_id`.
- –î–ª—è –≤–Ω–µ—à–Ω–∏—Ö –≤—ã–∑–æ–≤–æ–≤ –ª–æ–≥–∏—Ä—É–µ–º: `target`, `method`, `url`, `status`, `latency_ms`, `retries`, `error`.
- –ù–µ –ª–æ–≥–∏—Ä—É–µ–º —Å–µ–∫—Ä–µ—Ç—ã –∏ –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ.
- –§—Ä–æ–Ω—Ç–µ–Ω–¥ –≤ dev: –ø–æ–¥—Ä–æ–±–Ω—ã–µ –∫–æ–Ω—Å–æ–ª—å–Ω—ã–µ –ª–æ–≥–∏ –∑–∞–ø—Ä–æ—Å–æ–≤/–æ—à–∏–±–æ–∫.

## –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
- –ó–Ω–∞—á–µ–Ω–∏—è –∏–∑ `.env` ‚Üí pydantic‚Äësettings ‚Üí –æ–±—ä–µ–∫—Ç Config (single source of truth).
- –ö–ª—é—á–µ–≤—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ:
  - `DATABASE_URL`
  - `APP_ENV` (dev/stage/prod)
  - `LOG_LEVEL` (INFO/DEBUG)
  - –ò–Ω—Ç–µ—Ä–≤–∞–ª—ã –∏ –ø–æ—Ä–æ–≥–∏ –º–æ–≥—É—Ç —Ö—Ä–∞–Ω–∏—Ç—å—Å—è –≤ –ë–î (`app_settings`) –∏ –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª—è—Ç—å –¥–µ—Ñ–æ–ª—Ç—ã.
  - `FRONTEND_DIST_PATH` ‚Äî –ø—É—Ç—å –∫ —Å–æ–±—Ä–∞–Ω–Ω–æ–π —Å—Ç–∞—Ç–∏–∫–µ —Ñ—Ä–æ–Ω—Ç–∞ (–µ—Å–ª–∏ –Ω–µ—Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π)

## –†–∞–±–æ—Ç–∞ —Å –ë–î
- SQLAlchemy 2.x, –¥–µ–∫–ª–∞—Ä–∞—Ç–∏–≤–Ω—ã–µ –º–æ–¥–µ–ª–∏.
- –°–µ—Å—Å–∏–∏ —á–µ—Ä–µ–∑ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å FastAPI, –±–µ–∑ –∞–≤—Ç–æ–∫–æ–º–º–∏—Ç–∞; —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ —è–≤–Ω—ã–µ.
- –í—Ä–µ–º—è: –≤—Å–µ–≥–¥–∞ UTC (`TIMESTAMPTZ`), –Ω–∞ —É—Ä–æ–≤–Ω–µ Python ‚Äî tz‚Äëaware.
- –ú–∏–≥—Ä–∞—Ü–∏–∏: Alembic, –æ–¥–Ω–∞ –º–∏–≥—Ä–∞—Ü–∏—è ‚Äî –æ–¥–∏–Ω —Å–º—ã—Å–ª–æ–≤–æ–π —à–∞–≥.

## –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ (DexScreener, Pump.fun WS)
- httpx: —Ç–∞–π–º–∞—É—Ç—ã (connect/read ‚â§ 5—Å), —Ä–µ—Ç—Ä–∞–∏ —Å —ç–∫—Å–ø–æ–Ω–µ–Ω—Ü–∏–∞–ª—å–Ω–æ–π –ø–∞—É–∑–æ–π (max 3‚Äì5).
- Rate limits: –ø—Ä–∏ 429 ‚Äî respect Retry‚ÄëAfter –∏–ª–∏ backoff —Å–æ —Å–ª–æ—Ç–æ–º 5‚Äì30—Å.
- –í–∞–ª–∏–¥–∞—Ü–∏—è –æ—Ç–≤–µ—Ç–æ–≤: pydantic‚Äë–º–æ–¥–µ–ª–∏ —Å `strict=True` –Ω–∞ –∫—Ä–∏—Ç–∏—á–Ω—ã—Ö –ø–æ–ª—è—Ö.
- WS –≤–æ—Ä–∫–µ—Ä: –∞–≤—Ç–æ‚Äëreconnect —Å –¥–∂–∏—Ç—Ç–µ—Ä–æ–º, ¬´at‚Äëleast‚Äëonce¬ª –¥–æ—Å—Ç–∞–≤–∫–∞ —á–µ—Ä–µ–∑ –∏–¥–µ–º–ø–æ—Ç–µ–Ω—Ç–Ω—ã–µ –≤—Å—Ç–∞–≤–∫–∏ (UNIQUE –ø–æ mint).
- –ú–µ—Ç—Ä–∏–∫–∞ holders –≤—Ä–µ–º–µ–Ω–Ω–æ –∏—Å–∫–ª—é—á–µ–Ω–∞; –≤ —Ä–∞—Å—á—ë—Ç–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `HD_norm = 1`.

## –î–æ–º–µ–Ω: —Å–∫–æ—Ä–∏–Ω–≥

### –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Å–∫–æ—Ä–∏–Ω–≥–∞
- **ScoringService** ‚Äî —É–Ω–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è –≤—Å–µ—Ö –º–æ–¥–µ–ª–µ–π
- **HybridMomentumModel** ‚Äî –ø—Ä–æ–¥–≤–∏–Ω—É—Ç–∞—è –º–æ–¥–µ–ª—å —Å 4 –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º–∏
- **ComponentCalculator** ‚Äî —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ –º–µ—Ç–æ–¥—ã —Ä–∞—Å—á–µ—Ç–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
- **EWMAService** ‚Äî —ç–∫—Å–ø–æ–Ω–µ–Ω—Ü–∏–∞–ª—å–Ω–æ–µ —Å–≥–ª–∞–∂–∏–≤–∞–Ω–∏–µ —Å –ø–µ—Ä—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å—é

### –ü—Ä–∏–Ω—Ü–∏–ø—ã —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏
- –ú–µ—Ç—Ä–∏–∫–∏ –∏ —Ñ–æ—Ä–º—É–ª—ã —Å—Ç—Ä–æ–≥–æ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—Ç –¢–ó.
- –í—Å–µ –∏—Å—Ö–æ–¥–Ω—ã–µ –º–µ—Ç—Ä–∏–∫–∏ —Å–æ—Ö—Ä–∞–Ω—è–µ–º –≤ `token_scores.metrics` –¥–ª—è –ø—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç–∏.
- **–ù–æ–≤–æ–µ**: –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Å–∫–æ—Ä–∏–Ω–≥–∞ —Å–æ—Ö—Ä–∞–Ω—è–µ–º –≤ `raw_components` –∏ `smoothed_components`.
- **–ù–æ–≤–æ–µ**: –º–æ–¥–µ–ª—å —Å–∫–æ—Ä–∏–Ω–≥–∞ —É–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –≤ –ø–æ–ª–µ `scoring_model`.
- –í–µ—Å–æ–≤—ã–µ –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç—ã –∏ –ø–æ—Ä–æ–≥–∏ —á–∏—Ç–∞–µ–º –∏–∑ `app_settings` —Å –∫—ç—à–µ–º –≤ –ø–∞–º—è—Ç–∏ (TTL ~15—Å).
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö –º–æ–¥–µ–ª–µ–π —á–µ—Ä–µ–∑ –Ω–∞—Å—Ç—Ä–æ–π–∫—É `scoring_model_active`.

### Hybrid Momentum –º–æ–¥–µ–ª—å
- **4 –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞**: Transaction Acceleration, Volume Momentum, Token Freshness, Orderflow Imbalance
- **EWMA —Å–≥–ª–∞–∂–∏–≤–∞–Ω–∏–µ** –≤—Å–µ—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ –¥–ª—è —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç–∏
- **–ö–æ–Ω—Ñ–∏–≥—É—Ä–∏—Ä—É–µ–º—ã–µ –≤–µ—Å–∞**: w_tx, w_vol, w_fresh, w_oi
- **–í–∞–ª–∏–¥–∞—Ü–∏—è –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö** —Å graceful fallback
- **–î–µ—Ç–∞–ª—å–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ** –≤—Å–µ—Ö —ç—Ç–∞–ø–æ–≤ —Ä–∞—Å—á–µ—Ç–∞

### –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–∫–æ—Ä–∏–Ω–≥–∞
- Unit —Ç–µ—Å—Ç—ã –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ —Å –≥—Ä–∞–Ω–∏—á–Ω—ã–º–∏ —Å–ª—É—á–∞—è–º–∏
- –¢–µ—Å—Ç—ã EWMA —Å–≥–ª–∞–∂–∏–≤–∞–Ω–∏—è —Å —Ä–∞–∑–ª–∏—á–Ω—ã–º–∏ —Å—Ü–µ–Ω–∞—Ä–∏—è–º–∏
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã –ø–æ–ª–Ω–æ–≥–æ pipeline —Å–∫–æ—Ä–∏–Ω–≥–∞
- –ü–æ–∫—Ä—ã—Ç–∏–µ —Ç–µ—Å—Ç–∞–º–∏: ComponentCalculator (12 —Ç–µ—Å—Ç–æ–≤), EWMAService (15 —Ç–µ—Å—Ç–æ–≤)

## API (REST)
- –ü–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–∞—è —Å—Ö–µ–º–∞ URL –∏ –∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–æ–≤.
- –ü–∞–≥–∏–Ω–∞—Ü–∏—è: `limit` (<= 100), `offset` (–∏–ª–∏ `cursor` ‚Äî –µ—Å–ª–∏ –ø–æ—Ç—Ä–µ–±—É–µ—Ç—Å—è).
- –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é ‚Äî –ø–æ `score DESC`.
- –û—Ç–≤–µ—Ç—ã: pydantic‚Äë–º–æ–¥–µ–ª–∏, —á–∏—Å–ª–µ–Ω–Ω—ã–µ –ø–æ–ª—è ‚Äî –¥–µ—Å—è—Ç–∏—á–Ω—ã–µ/float —Å –º–∞—Å—à—Ç–∞–±–æ–º –∏–∑ –¢–ó.
- –û—à–∏–±–∫–∏: —É–Ω–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç `{error: {code, message}}`.
- OpenAPI/Swagger –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –≤–∫–ª—é—á–µ–Ω.

## –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫–∏
- –î–ª—è –ø—Ä–æ—Å—Ç–æ—Ç—ã ‚Äî APScheduler (background, async) –≤ —Ç–æ–º –∂–µ –ø—Ä–æ—Ü–µ—Å—Å–µ API –∏–ª–∏ –æ—Ç–¥–µ–ª—å–Ω–æ–º –≤–æ—Ä–∫–µ—Ä–µ.
- –î–æ–ª–≥–∏–µ –∑–∞–¥–∞—á–∏/—Ä–µ—Ç—Ä–∞–∏ –Ω–µ –¥–æ–ª–∂–Ω—ã –±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å event loop ‚Äî –≤—ã–Ω–æ—Å–∏—Ç—å –≤ —Ñ–æ–Ω–æ–≤—ã–π scheduler/–≤–æ—Ä–∫–µ—Ä.

## –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ç–µ—Å—Ç–æ–≤
- **Unit —Ç–µ—Å—Ç—ã**: –±—ã—Å—Ç—Ä—ã–µ, –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã –¥–æ–º–µ–Ω–Ω–æ–π –ª–æ–≥–∏–∫–∏
  - `tests/test_component_calculator.py` ‚Äî —Ç–µ—Å—Ç—ã –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ —Å–∫–æ—Ä–∏–Ω–≥–∞
  - `tests/test_ewma_service.py` ‚Äî —Ç–µ—Å—Ç—ã EWMA —Å–≥–ª–∞–∂–∏–≤–∞–Ω–∏—è
- **Integration —Ç–µ—Å—Ç—ã**: —Å –ë–î –∏ –º–æ–∫–∞–º–∏ –≤–Ω–µ—à–Ω–∏—Ö API
- **End-to-end —Ç–µ—Å—Ç—ã**: –ø–æ–ª–Ω—ã–π pipeline —á–µ—Ä–µ–∑ API

### –ü—Ä–∏–Ω—Ü–∏–ø—ã —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
- pytest —Å —Ñ–∏–∫—Å—Ç—É—Ä–∞–º–∏ –¥–ª—è –∏–∑–æ–ª—è—Ü–∏–∏ —Ç–µ—Å—Ç–æ–≤
- –í—Ä–µ–º–µ–Ω–Ω–∞—è –ë–î (schema per test), rollback –ø–æ—Å–ª–µ —Ç–µ—Å—Ç–∞
- –ú–æ–∫–∏ –¥–ª—è –≤–Ω–µ—à–Ω–∏—Ö API (DexScreener, Pump.fun)
- –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≥—Ä–∞–Ω–∏—á–Ω—ã—Ö —Å–ª—É—á–∞–µ–≤ –∏ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—à–∏–±–æ–∫
- ¬´–ë–æ–µ–≤—ã–µ¬ª –ø—Ä–æ–≥–æ–Ω–∫–∏ ‚Äî —Ç–æ–ª—å–∫–æ –≤—Ä—É—á–Ω—É—é —Å –æ—Ç–¥–µ–ª—å–Ω—ã–º –∫–æ–Ω—Ñ–∏–≥–æ–º (`APP_ENV=dev_live`)

### –ü–æ–∫—Ä—ã—Ç–∏–µ —Ç–µ—Å—Ç–∞–º–∏
- ‚úÖ ComponentCalculator: 12 —Ç–µ—Å—Ç–æ–≤ (–≤—Å–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã + edge cases)
- ‚úÖ EWMAService: 15 —Ç–µ—Å—Ç–æ–≤ (—Å–≥–ª–∞–∂–∏–≤–∞–Ω–∏–µ + –ø–µ—Ä—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å)
- ‚úÖ –í–∞–ª–∏–¥–∞—Ü–∏—è –Ω–∞—Å—Ç—Ä–æ–µ–∫ –∏ API endpoints
- üîÑ ScoringService: –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã (–≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ)
- üîÑ HybridMomentumModel: end-to-end —Ç–µ—Å—Ç—ã (–≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ)

### –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤
```bash
# –í—Å–µ —Ç–µ—Å—Ç—ã
PYTHONPATH=. python3 -m pytest -v

# –ö–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ –º–æ–¥—É–ª–∏
PYTHONPATH=. python3 -m pytest tests/test_component_calculator.py -v
PYTHONPATH=. python3 -m pytest tests/test_ewma_service.py -v
```

## –ö–æ–º–º–∏—Ç—ã –∏ PR
- Conventional Commits: `feat:`, `fix:`, `docs:`, `chore:`, `refactor:`, `test:`.
- –ú–∞–ª–µ–Ω—å–∫–∏–µ –∞—Ç–æ–º–∞—Ä–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è. –ö–∞–∂–¥–æ–µ –∑–∞–∫—Ä—ã—Ç–∏–µ —Ç–∞—Å–∫–∞ ‚Äî –∫—Ä–∞—Ç–∫–∏–π —á–µ–Ω–¥–∂–ª–æ–≥ –≤ README (–∏–ª–∏ —Ä–µ–ª–∏–∑–Ω—ã–µ –∑–∞–º–µ—Ç–∫–∏ –≤ Git/Release).

## –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å
- –°–µ–∫—Ä–µ—Ç—ã ‚Äî —Ç–æ–ª—å–∫–æ —á–µ—Ä–µ–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è/—Å–µ–∫—Ä–µ—Ç‚Äë–º–µ–Ω–µ–¥–∂–µ—Ä.
- CORS ‚Äî —è–≤–Ω–æ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω—ã–π —Å–ø–∏—Å–æ–∫ –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤.
- –í –∑–∞–≥–æ–ª–æ–≤–∫–∞—Ö –Ω–µ —Å–≤–µ—Ç–∏–º —Å–µ—Ä–≤–µ—Ä–Ω—ã–µ –¥–µ—Ç–∞–ª–∏; —É–±–∏—Ä–∞–µ–º –ª–∏—à–Ω–∏–µ stacktraces –Ω–∞ –ø—Ä–æ–¥–µ.

## –î–µ–ø–ª–æ–π (–±–µ–∑ Docker)
- –î–µ–ø–ª–æ–π –∏–∑ Git: `git pull` ‚Üí `pip install -r requirements.txt` ‚Üí `alembic upgrade head` ‚Üí `npm ci && npm run build` ‚Üí —Ä–µ—Å—Ç–∞—Ä—Ç `uvicorn`.
- –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–π —Å–µ—Ä–≤–∏—Å: `systemd` unit –¥–ª—è `uvicorn`; –ª–æ–≥–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è ‚Äî –≤ stdout (JSON), —Å–∏—Å—Ç–µ–º–Ω—ã–µ ‚Äî journald.

## –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –∏ –ø—Ä–æ—Ü–µ—Å—Å
- –î–µ—Ä–∂–∏–º –∞–∫—Ç—É–∞–ª—å–Ω—ã–º README (–∫–ª—é—á–µ–≤—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è, –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –∏ roadmap).
- –ï—Å–ª–∏ –ø–æ—è–≤–ª—è—é—Ç—Å—è –≤–æ–ø—Ä–æ—Å—ã/–∏–¥–µ–∏ ‚Äî —Å–Ω–∞—á–∞–ª–∞ —Ñ–∏–∫—Å–∏—Ä—É–µ–º –≤ ¬´–û—Ç–∫—Ä—ã—Ç—ã—Ö –≤–æ–ø—Ä–æ—Å–∞—Ö¬ª –≤ `tasklist.md`, –∑–∞—Ç–µ–º —É—Ç–æ—á–Ω—è–µ–º.
- –ü—Ä–µ–¥–ø–æ—á–∏—Ç–∞–µ–º –ø—Ä–æ—Å—Ç—ã–µ —Ä–µ—à–µ–Ω–∏—è. –ï—Å–ª–∏ –µ—Å—Ç—å —Å–æ–º–Ω–µ–Ω–∏–µ ‚Äî –±–µ—Ä—ë–º —Å–∞–º–æ–µ –ø–æ–Ω—è—Ç–Ω–æ–µ –∏ –∏–∑–º–µ—Ä—è–µ–º.
