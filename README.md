To The Moon ‚Äî —Å–∏—Å—Ç–µ–º–∞ —Å–∫–æ—Ä–∏–Ω–≥–∞ —Ç–æ–∫–µ–Ω–æ–≤ Solana
=============================================

–ü—É–±–ª–∏—á–Ω—ã–π —Å–µ—Ä–≤–∏—Å –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è, –∞–Ω–∞–ª–∏–∑–∞ –∏ —Å–∫–æ—Ä–∏–Ω–≥–∞ —Ç–æ–∫–µ–Ω–æ–≤, –º–∏–≥—Ä–∏—Ä–æ–≤–∞–≤—à–∏—Ö —Å Pump.fun –Ω–∞ DEX –≤ —Å–µ—Ç–∏ Solana. –ò—Å–ø–æ–ª—å–∑—É–µ—Ç –ø—Ä–æ–¥–≤–∏–Ω—É—Ç—É—é –º–æ–¥–µ–ª—å "Hybrid Momentum" –¥–ª—è –æ—Ü–µ–Ω–∫–∏ –∞—Ä–±–∏—Ç—Ä–∞–∂–Ω–æ–≥–æ –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª–∞ —Ç–æ–∫–µ–Ω–æ–≤. –ë—ç–∫–µ–Ω–¥ –Ω–∞ Python/FastAPI, —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥ ‚Äî React/Vite. –ë–µ–∑ Docker, –¥–µ–ø–ª–æ–π –∏–∑ Git.

–°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ
---------
- [–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏](#–≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏)
- [–ú–æ–¥–µ–ª–∏ —Å–∫–æ—Ä–∏–Ω–≥–∞](#–º–æ–¥–µ–ª–∏-—Å–∫–æ—Ä–∏–Ω–≥–∞)
- [–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞](#–∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞)
- [–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è](#—Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è)
- [–ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç (dev)](#–±—ã—Å—Ç—Ä—ã–π-—Å—Ç–∞—Ä—Ç-dev)
- [–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è](#–∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è)
- [–ú–∏–≥—Ä–∞—Ü–∏–∏](#–º–∏–≥—Ä–∞—Ü–∏–∏)
- [API](#api)
- [–ü—Ä–æ–¥–∞–∫—à–µ–Ω‚Äë–¥–µ–ø–ª–æ–π (–±–µ–∑ Docker)](#–ø—Ä–æ–¥–∞–∫—à–µ–Ω‚Äë–¥–µ–ø–ª–æ–π-–±–µ–∑-docker)
- [–ü—Ä–∞–≤–∏–ª–∞ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏](#–ø—Ä–∞–≤–∏–ª–∞-—Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏)
- [–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ](#—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ)
- [–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –∏ —ç–∫—Å–ø–ª—É–∞—Ç–∞—Ü–∏—è](#–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å-–∏-—ç–∫—Å–ø–ª—É–∞—Ç–∞—Ü–∏—è)
- [–î–æ—Ä–æ–∂–Ω–∞—è –∫–∞—Ä—Ç–∞](#–¥–æ—Ä–æ–∂–Ω–∞—è-–∫–∞—Ä—Ç–∞)

## üìö –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

- **[CHANGELOG.md](CHANGELOG.md)** ‚Äî –ò—Å—Ç–æ—Ä–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π –∏ –Ω–æ–≤—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏
- **[MIGRATION_GUIDE.md](MIGRATION_GUIDE.md)** ‚Äî –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –º–∏–≥—Ä–∞—Ü–∏–∏ –Ω–∞ –≤–µ—Ä—Å–∏—é 2.0
- **[API_REFERENCE.md](API_REFERENCE.md)** ‚Äî –ü–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è API
- **[ARCHITECTURE.md](ARCHITECTURE.md)** ‚Äî –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Å–∏—Å—Ç–µ–º—ã –∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
- **[DEVELOPMENT.md](DEVELOPMENT.md)** ‚Äî –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤

–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏
-----------
- **–ü–æ–¥–ø–∏—Å–∫–∞ –Ω–∞ –º–∏–≥—Ä–∞—Ü–∏–∏ —Ç–æ–∫–µ–Ω–æ–≤** —á–µ—Ä–µ–∑ WebSocket Pump.fun ‚Üí —Å–æ–∑–¥–∞–Ω–∏–µ –∑–∞–ø–∏—Å–µ–π (status: `monitoring`).
- **–í–∞–ª–∏–¥–∞—Ü–∏—è —á–µ—Ä–µ–∑ DexScreener**: –ø—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞–ª–∏—á–∏—è WSOL/pumpfun-amm –∏ –≤–Ω–µ—à–Ω–µ–≥–æ –ø—É–ª–∞ ‚Üí `active`.
- **–†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–π —Å–±–æ—Ä –º–µ—Ç—Ä–∏–∫** –ø–æ WSOL/SOL –∏ USDC‚Äë–ø–∞—Ä–∞–º: —É—á–∏—Ç—ã–≤–∞—é—Ç—Å—è `pumpfun-amm`, `pumpswap` –∏ –≤–Ω–µ—à–Ω–∏–µ DEX; classic `pumpfun` –∏—Å–∫–ª—é—á—ë–Ω.
- **Hybrid Momentum —Å–∫–æ—Ä–∏–Ω–≥**: –ø—Ä–æ–¥–≤–∏–Ω—É—Ç–∞—è –º–æ–¥–µ–ª—å –æ—Ü–µ–Ω–∫–∏ –∞—Ä–±–∏—Ç—Ä–∞–∂–Ω–æ–≥–æ –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª–∞ –Ω–∞ –æ—Å–Ω–æ–≤–µ 4 –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤:
  - **Transaction Acceleration** ‚Äî —É—Å–∫–æ—Ä–µ–Ω–∏–µ —Ç–æ—Ä–≥–æ–≤–æ–π –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏
  - **Volume Momentum** ‚Äî –∏–º–ø—É–ª—å—Å —Ç–æ—Ä–≥–æ–≤–æ–≥–æ –æ–±—ä–µ–º–∞
  - **Token Freshness** ‚Äî —Å–≤–µ–∂–µ—Å—Ç—å —Ç–æ–∫–µ–Ω–∞ (–Ω–µ–¥–∞–≤–Ω–æ –º–∏–≥—Ä–∏—Ä–æ–≤–∞–≤—à–∏–µ –ø–æ–ª—É—á–∞—é—Ç –±–æ–Ω—É—Å)
  - **Orderflow Imbalance** ‚Äî –¥–∏—Å–±–∞–ª–∞–Ω—Å –ø–æ–∫—É–ø–æ–∫/–ø—Ä–æ–¥–∞–∂
- **EWMA —Å–≥–ª–∞–∂–∏–≤–∞–Ω–∏–µ** –≤—Å–µ—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ –¥–ª—è —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤.
- **–ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –º–æ–¥–µ–ª–∏ —Å–∫–æ—Ä–∏–Ω–≥–∞**: –ø–æ–¥–¥–µ—Ä–∂–∫–∞ legacy –∏ hybrid momentum –º–æ–¥–µ–ª–µ–π —Å –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ–º —á–µ—Ä–µ–∑ API.
- **–ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ (APScheduler)**: –æ—Ç–¥–µ–ª—å–Ω—ã–µ —á–∞—Å—Ç–æ—Ç—ã –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –¥–ª—è ¬´–≥–æ—Ä—è—á–∏—Ö¬ª/¬´–æ—Å—Ç—ã–≤—à–∏—Ö¬ª —Ç–æ–∫–µ–Ω–æ–≤.
- **–ê—Ä—Ö–∏–≤–∞—Ü–∏—è**: `active` –Ω–∏–∂–µ –ø–æ—Ä–æ–≥–∞ –¥–æ–ª–≥–æ–µ –≤—Ä–µ–º—è –∏ `monitoring` —Å —Ç–∞–π–º–∞—É—Ç–æ–º.
- **–ü—É–±–ª–∏—á–Ω–æ–µ API**: —Å–ø–∏—Å–æ–∫, –¥–µ—Ç–∞–ª–∏ —Ç–æ–∫–µ–Ω–∞, –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Å–∫–æ—Ä–∏–Ω–≥–∞, –ø—É–ª—ã WSOL, –ø–µ—Ä–µ—Å—á—ë—Ç on‚Äëdemand.
- **–õ–æ–≥–∏**: in‚Äëmemory –±—É—Ñ–µ—Ä + API –¥–ª—è —á—Ç–µ–Ω–∏—è –∏ —Å—Ç—Ä–∞–Ω–∏—Ü—ã –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ —Å —Ñ–∏–ª—å—Ç—Ä–∞–º–∏.
- **–†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–π —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥ (SPA)**: 
  - **–î–∞—à–±–æ—Ä–¥** —Å –∞–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ–º –∫–∞–∂–¥—ã–µ 5 —Å–µ–∫, –∞–¥–∞–ø—Ç–∏–≤–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞ –¥–ª—è —Ä–∞–∑–Ω—ã—Ö –º–æ–¥–µ–ª–µ–π —Å–∫–æ—Ä–∏–Ω–≥–∞
  - **–§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –∏ —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞**: "–¢–æ–ª—å–∫–æ —Å–≤–µ–∂–∏–µ" —Ç–æ–∫–µ–Ω—ã, —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –ø–æ –≤—Å–µ–º –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º Hybrid Momentum
  - **–í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è —Å–∫–æ—Ä–æ–≤**: —Ü–≤–µ—Ç–æ–≤–æ–µ –∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏–µ, –ø—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä—ã, –¥–µ—Ç–∞–ª–∏–∑–∞—Ü–∏—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
  - **–ò–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã —Å–≤–µ–∂–µ—Å—Ç–∏**: üÜï –¥–ª—è —Ç–æ–∫–µ–Ω–æ–≤ –º–ª–∞–¥—à–µ 6 —á–∞—Å–æ–≤
  - **–ö–æ–º–ø–∞–∫—Ç–Ω—ã–π —Ä–µ–∂–∏–º** –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è, —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –Ω–∞—Å—Ç—Ä–æ–µ–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
  - **–°—Ç—Ä–∞–Ω–∏—Ü—ã**: –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –º–æ–¥–µ–ª–µ–π —Å–∫–æ—Ä–∏–Ω–≥–∞, –¥–µ—Ç–∞–ª—å–Ω–∞—è –∫–∞—Ä—Ç–æ—á–∫–∞ —Ç–æ–∫–µ–Ω–∞, –ø—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤

–ú–æ–¥–µ–ª–∏ —Å–∫–æ—Ä–∏–Ω–≥–∞
---------------

### Hybrid Momentum Model (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)
–ü—Ä–æ–¥–≤–∏–Ω—É—Ç–∞—è –º–æ–¥–µ–ª—å –¥–ª—è –æ—Ü–µ–Ω–∫–∏ –∫—Ä–∞—Ç–∫–æ—Å—Ä–æ—á–Ω–æ–≥–æ –∞—Ä–±–∏—Ç—Ä–∞–∂–Ω–æ–≥–æ –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª–∞:

**–§–æ—Ä–º—É–ª–∞**: `Score = (W_tx √ó Tx_Accel) + (W_vol √ó Vol_Momentum) + (W_fresh √ó Token_Freshness) + (W_oi √ó Orderflow_Imbalance)`

**–ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã**:
- **Tx_Accel** = `(tx_count_5m / 5) / (tx_count_1h / 60)` ‚Äî —É—Å–∫–æ—Ä–µ–Ω–∏–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π
- **Vol_Momentum** = `volume_5m / (volume_1h / 12)` ‚Äî –∏–º–ø—É–ª—å—Å –æ–±—ä–µ–º–∞
- **Token_Freshness** = `max(0, (6 - hours_since_creation) / 6)` ‚Äî —Å–≤–µ–∂–µ—Å—Ç—å —Ç–æ–∫–µ–Ω–∞
- **Orderflow_Imbalance** = `(buys_volume_5m - sells_volume_5m) / (buys_volume_5m + sells_volume_5m)` ‚Äî –¥–∏—Å–±–∞–ª–∞–Ω—Å –æ—Ä–¥–µ—Ä–æ–≤

**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏**:
- EWMA —Å–≥–ª–∞–∂–∏–≤–∞–Ω–∏–µ –≤—Å–µ—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ (–ø–∞—Ä–∞–º–µ—Ç—Ä `ewma_alpha`)
- –ö–æ–Ω—Ñ–∏–≥—É—Ä–∏—Ä—É–µ–º—ã–µ –≤–µ—Å–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ —á–µ—Ä–µ–∑ API
- –£—á–µ—Ç —Å–≤–µ–∂–µ—Å—Ç–∏ —Ç–æ–∫–µ–Ω–æ–≤ (–Ω–µ–¥–∞–≤–Ω–æ –º–∏–≥—Ä–∏—Ä–æ–≤–∞–≤—à–∏–µ –ø–æ–ª—É—á–∞—é—Ç –±–æ–Ω—É—Å)

### Legacy Model
–ü—Ä–æ—Å—Ç–∞—è –º–æ–¥–µ–ª—å –Ω–∞ –æ—Å–Ω–æ–≤–µ –ª–∏–∫–≤–∏–¥–Ω–æ—Å—Ç–∏, –≤–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç–∏ –∏ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏:
- –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã: `l` (–ª–∏–∫–≤–∏–¥–Ω–æ—Å—Ç—å), `s` (–≤–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç—å), `m` (–º–æ–º–µ–Ω—Ç—É–º), `t` (—Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏)
- –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è –¥–ª—è –æ–±—Ä–∞—Ç–Ω–æ–π —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏

–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞
-----------
- **Backend (FastAPI)**: `src/app`, –º–∞—Ä—à—Ä—É—Ç—ã `/health`, `/version`, `/settings`, `/tokens`, `/admin`, `/logs`, `/ui` (–º–∏–Ω–∏–º–∞–ª—å–Ω—ã–π UI) –∏ —Ä–∞–∑–¥–∞—á–∞ SPA `/app`.
- **DB (PostgreSQL/SQLite dev)**: ORM SQLAlchemy 2.x, –º–∏–≥—Ä–∞—Ü–∏–∏ Alembic. –¢–∞–±–ª–∏—Ü—ã: `tokens`, `token_scores`, `app_settings`.
  - –ù–æ–≤—ã–µ –ø–æ–ª—è –≤ `token_scores`: `raw_components`, `smoothed_components`, `scoring_model`
- **Scoring Service**: –£–Ω–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö –º–æ–¥–µ–ª–µ–π —Å–∫–æ—Ä–∏–Ω–≥–∞
  - `HybridMomentumModel` ‚Äî –Ω–æ–≤–∞—è –ø—Ä–æ–¥–≤–∏–Ω—É—Ç–∞—è –º–æ–¥–µ–ª—å
  - `ComponentCalculator` ‚Äî —Ä–∞—Å—á–µ—Ç –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ —Å–∫–æ—Ä–∏–Ω–≥–∞
  - `EWMAService` ‚Äî —ç–∫—Å–ø–æ–Ω–µ–Ω—Ü–∏–∞–ª—å–Ω–æ–µ —Å–≥–ª–∞–∂–∏–≤–∞–Ω–∏–µ
- **Scheduler (APScheduler)**: —Ñ–æ–Ω–æ–≤—ã–µ –∑–∞–¥–∞—á–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è ¬´hot/cold¬ª, –≤–∞–ª–∏–¥–∞—Ü–∏—è `monitoring‚Üíactive` –∏ —á–∞—Å–æ–≤–∞—è –∞—Ä—Ö–∏–≤–∞—Ü–∏—è.
  - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –º–µ–∂–¥—É –º–æ–¥–µ–ª—è–º–∏ —Å–∫–æ—Ä–∏–Ω–≥–∞
  - –ü—Ä–∏ –∞–∫—Ç–∏–≤–∞—Ü–∏–∏ –ø—ã—Ç–∞–µ–º—Å—è –∑–∞–ø–æ–ª–Ω–∏—Ç—å `name`/`symbol` –∏–∑ `baseToken` DexScreener, –µ—Å–ª–∏ –æ–Ω–∏ –±—ã–ª–∏ –ø—É—Å—Ç—ã–º–∏.
  - –ü—Ä–∞–≤–∏–ª–æ –∞–∫—Ç–∏–≤–∞—Ü–∏–∏/–¥–µ–º–æ—Ü–∏–∏ –ø–æ –ª–∏–∫–≤–∏–¥–Ω–æ—Å—Ç–∏ –≤–Ω–µ—à–Ω–∏—Ö –ø—É–ª–æ–≤: —Ç–æ–∫–µ–Ω —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è `active`, –µ—Å–ª–∏ –µ—Å—Ç—å —Ö–æ—Ç—è –±—ã –æ–¥–∏–Ω –≤–Ω–µ—à–Ω–∏–π –ø—É–ª WSOL/SOL/USDC (DEX –Ω–µ –≤ {pumpfun, pumpfun-amm, pumpswap}) —Å –ª–∏–∫–≤–∏–¥–Ω–æ—Å—Ç—å—é ‚â• `activation_min_liquidity_usd`.
- **Worker Pump.fun (WebSocket)**: `src/workers/pumpfun_ws.py` ‚Äî –ø–æ–¥–ø–∏—Å–∫–∞ `subscribeMigration` –∏ –∑–∞–ø–∏—Å—å `monitoring` —Ç–æ–∫–µ–Ω–æ–≤.
- **–í–Ω–µ—à–Ω–∏–µ API**: DexScreener (pairs), Pump.fun WS (migrations).
  - –†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–π —Å–±–æ—Ä –º–µ—Ç—Ä–∏–∫: —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ 5–º/1—á, –æ–±—ä–µ–º—ã 5–º/1—á, –æ—Ü–µ–Ω–∫–∞ –æ–±—ä–µ–º–æ–≤ –ø–æ–∫—É–ø–æ–∫/–ø—Ä–æ–¥–∞–∂
  - WSOL —Ä–∞—Å–ø–æ–∑–Ω–∞—ë—Ç—Å—è –∫–∞–∫ `WSOL` –∏ `SOL` (–∞ —Ç–∞–∫–∂–µ –≤–∞—Ä–∏–∞–Ω—Ç—ã `W_SOL`, `W-SOL`); USDC —Ä–∞—Å–ø–æ–∑–Ω–∞—ë—Ç—Å—è –ø–æ —Å–∏–º–≤–æ–ª—É `USDC`
  - –ü—É–ª—ã Pump.fun –æ–ø—Ä–µ–¥–µ–ª—è—é—Ç—Å—è `dexId` ‚àà {`pumpfun-amm`,`pumpfun`,`pumpswap`}; –∏–∑ —Ä–∞—Å—á—ë—Ç–∞ –∏—Å–∫–ª—é—á—ë–Ω —Ç–æ–ª—å–∫–æ `pumpfun` (classic)

–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è
----------
- Python 3.10+ (—Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞ –≤–µ–ª–∞—Å—å –Ω–∞ 3.9.6 ‚Äî —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å –æ–±–µ—Å–ø–µ—á–µ–Ω–∞ —Å–∏–Ω—Ç–∞–∫—Å–∏—Å–æ–º Optional –∏ —Ç.–ø.).
- Node.js 18+ –∏ npm ‚Äî –¥–ª—è —Å–±–æ—Ä–∫–∏ SPA.
- PostgreSQL 14+ –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞ (–≤ dev –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `sqlite:///dev.db`).

–ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç (dev)
-------------------
1) –ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –∏ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:
```
python3 -m pip install -r requirements.txt
cp .env.example .env
```
2) –ü—Ä–∏–º–µ–Ω–∏—Ç–µ –º–∏–≥—Ä–∞—Ü–∏–∏ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é SQLite dev.db):
```
python3 -m alembic upgrade head
```
3) –°–æ–±–µ—Ä–∏—Ç–µ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥:
```
cd frontend && npm install && npm run build && cd -
```
4) –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–µ—Ä–≤–µ—Ä:
```
PYTHONPATH=. python3 -m uvicorn src.app.main:app --host 0.0.0.0 --port 8000
```
5) –û—Ç–∫—Ä–æ–π—Ç–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å: http://localhost:8000/app (–î–∞—à–±–æ—Ä–¥, –ù–∞—Å—Ç—Ä–æ–π–∫–∏, –õ–æ–≥–∏).

–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ (dev):
- –ó–∞–ø–æ–ª–Ω–∏—Ç—å —Ç–µ—Å—Ç–æ–≤—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏:
```
PYTHONPATH=. python3 scripts/smoke_db.py
PYTHONPATH=. python3 scripts/dev_mark_active.py
PYTHONPATH=. python3 scripts/update_metrics.py --limit 1
PYTHONPATH=. python3 scripts/compute_scores.py --limit 1
```
- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≤–∞–ª–∏–¥–∞—Ç–æ—Ä (–¥–ª—è —Ä–µ–∞–ª—å–Ω—ã—Ö —Ç–æ–∫–µ–Ω–æ–≤):
```
PYTHONPATH=. python3 scripts/validate_monitoring.py --limit 25
```
- –ó–∞–ø—É—Å—Ç–∏—Ç—å WS‚Äë–≤–æ—Ä–∫–µ—Ä (–Ω—É–∂–Ω–∞ —Å–µ—Ç—å):
```
PUMPFUN_RUN_SECONDS=120 PYTHONPATH=. python3 -m src.workers.pumpfun_ws
```

–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
------------
–í—Å–µ –æ—Å–Ω–æ–≤–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —á–∏—Ç–∞—é—Ç—Å—è –∏–∑ `.env` (—Å–º. `.env.example`) –∏ —Ç–∞–±–ª–∏—Ü—ã `app_settings`:

### –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è (.env):
- `APP_ENV` (dev/stage/prod)
- `LOG_LEVEL` (INFO/DEBUG)
- `HOST`, `PORT` ‚Äî –¥–ª—è uvicorn (–µ—Å–ª–∏ –Ω–µ —á–µ—Ä–µ–∑ systemd)
- `DATABASE_URL` ‚Äî –Ω–∞–ø—Ä–∏–º–µ—Ä: `postgresql+psycopg2://user:pass@localhost:5432/tothemoon`
- `FRONTEND_DIST_PATH=frontend/dist` ‚Äî –ø—É—Ç—å –∫ —Å–æ–±—Ä–∞–Ω–Ω–æ–π SPA
- `SCHEDULER_ENABLED=true` ‚Äî –≤–∫–ª—é—á–∞–µ—Ç APScheduler (–æ–±–Ω–æ–≤–ª–µ–Ω–∏—è, –≤–∞–ª–∏–¥–∞—Ü–∏—è, –∞—Ä—Ö–∏–≤–∞—Ü–∏—è)

### –ù–∞—Å—Ç—Ä–æ–π–∫–∏ —Å–∫–æ—Ä–∏–Ω–≥–∞ (—á–µ—Ä–µ–∑ API `/settings`):

**–ú–æ–¥–µ–ª—å —Å–∫–æ—Ä–∏–Ω–≥–∞**:
- `scoring_model_active` ‚Äî –∞–∫—Ç–∏–≤–Ω–∞—è –º–æ–¥–µ–ª—å: `"hybrid_momentum"` –∏–ª–∏ `"legacy"`

**Hybrid Momentum –≤–µ—Å–∞**:
- `w_tx` (0.25) ‚Äî –≤–µ—Å —É—Å–∫–æ—Ä–µ–Ω–∏—è —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π
- `w_vol` (0.25) ‚Äî –≤–µ—Å –∏–º–ø—É–ª—å—Å–∞ –æ–±—ä–µ–º–∞
- `w_fresh` (0.25) ‚Äî –≤–µ—Å —Å–≤–µ–∂–µ—Å—Ç–∏ —Ç–æ–∫–µ–Ω–∞
- `w_oi` (0.25) ‚Äî –≤–µ—Å –¥–∏—Å–±–∞–ª–∞–Ω—Å–∞ –æ—Ä–¥–µ—Ä–æ–≤

**EWMA —Å–≥–ª–∞–∂–∏–≤–∞–Ω–∏–µ**:
- `ewma_alpha` (0.3) ‚Äî –ø–∞—Ä–∞–º–µ—Ç—Ä —Å–≥–ª–∞–∂–∏–≤–∞–Ω–∏—è (0.0-1.0)
- `freshness_threshold_hours` (6.0) ‚Äî –ø–æ—Ä–æ–≥ —Å–≤–µ–∂–µ—Å—Ç–∏ —Ç–æ–∫–µ–Ω–∞ –≤ —á–∞—Å–∞—Ö

**Legacy –≤–µ—Å–∞** (–¥–ª—è –æ–±—Ä–∞—Ç–Ω–æ–π —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏):
- `weight_s`, `weight_l`, `weight_m`, `weight_t`

**–û–±—â–∏–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏**:
- `min_score` ‚Äî –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –ø–æ—Ä–æ–≥ —Å–∫–æ—Ä–∞
- `hot_interval_sec`, `cold_interval_sec` ‚Äî –∏–Ω—Ç–µ—Ä–≤–∞–ª—ã –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
- `archive_below_hours`, `monitoring_timeout_hours` ‚Äî –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∞—Ä—Ö–∏–≤–∞—Ü–∏–∏
- `activation_min_liquidity_usd` ‚Äî –º–∏–Ω–∏–º–∞–ª—å–Ω–∞—è –ª–∏–∫–≤–∏–¥–Ω–æ—Å—Ç—å –¥–ª—è –∞–∫—Ç–∏–≤–∞—Ü–∏–∏

**–§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö**:
- `min_pool_liquidity_usd` (500) ‚Äî –º–∏–Ω–∏–º–∞–ª—å–Ω–∞—è –ª–∏–∫–≤–∏–¥–Ω–æ—Å—Ç—å –ø—É–ª–∞ –¥–ª—è —É—á–µ—Ç–∞
- `min_score_change` (0.05) ‚Äî –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–µ –∏–∑–º–µ–Ω–µ–Ω–∏–µ —Å–∫–æ—Ä–∞ –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è

–ú–∏–≥—Ä–∞—Ü–∏–∏
--------
- –ü—Ä–∏–º–µ–Ω–∏—Ç—å: `python3 -m alembic upgrade head`
- –°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å (–ø—Ä–∏ –¥–æ—Ä–∞–±–æ—Ç–∫–∞—Ö): `python3 -m alembic revision -m "msg" --autogenerate`

API
---

### Health/Version
- `GET /health` ‚Äî —Å—Ç–∞—Ç—É—Å —Å–∏—Å—Ç–µ–º—ã
- `GET /version` ‚Äî –≤–µ—Ä—Å–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

### Settings
- `GET /settings/` ‚Äî –≤—Å–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ (—Å –¥–µ—Ñ–æ–ª—Ç–∞–º–∏)
- `GET /settings/{key}` ‚Äî –∑–Ω–∞—á–µ–Ω–∏–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ (–∏–ª–∏ –¥–µ—Ñ–æ–ª—Ç), `404` –µ—Å–ª–∏ –∫–ª—é—á –Ω–µ–∏–∑–≤–µ—Å—Ç–µ–Ω
- `PUT /settings/{key}` ‚Äî –æ–±–Ω–æ–≤–∏—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫—É (—Å –≤–∞–ª–∏–¥–∞—Ü–∏–µ–π)
- `GET /settings/validation/errors` ‚Äî —Å–ø–∏—Å–æ–∫ –æ—à–∏–±–æ–∫ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –Ω–∞—Å—Ç—Ä–æ–µ–∫
- `GET /settings/weights` ‚Äî –≤–µ—Å–∞ –≤—Å–µ—Ö –º–æ–¥–µ–ª–µ–π —Å–∫–æ—Ä–∏–Ω–≥–∞
- `POST /settings/model/switch` ‚Äî –ø–µ—Ä–µ–∫–ª—é—á–∏—Ç—å –∞–∫—Ç–∏–≤–Ω—É—é –º–æ–¥–µ–ª—å —Å–∫–æ—Ä–∏–Ω–≥–∞

### Tokens
- `GET /tokens?min_score=&limit=&offset=&sort=score_desc|score_asc&statuses=active,monitoring,archived`
  - –ü–∞—Ä–∞–º–µ—Ç—Ä—ã: `limit` (1‚Äì100, –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 50), `offset` (>=0), `statuses` (—Å–ø–∏—Å–æ–∫ —á–µ—Ä–µ–∑ –∑–∞–ø—è—Ç—É—é)
  - –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é –∞—Ä—Ö–∏–≤ –∏—Å–∫–ª—é—á—ë–Ω; —á—Ç–æ–±—ã –≤–∏–¥–µ—Ç—å –∞—Ä—Ö–∏–≤ ‚Äî –¥–æ–±–∞–≤—å—Ç–µ `statuses=archived`
  - –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç `{ total, items: [...], meta: {...} }`
  - –ü–æ–ª—è `items[]`: `mint_address`, `name`, `symbol`, `status`, `score`, `smoothed_score`, `raw_components`, `smoothed_components`, `scoring_model`, `created_at`, –º–µ—Ç—Ä–∏–∫–∏
  - **–ù–æ–≤–æ–µ**: –ø–æ–ª–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ Hybrid Momentum –≤ API –æ—Ç–≤–µ—Ç–∞—Ö
- `GET /tokens/{mint}` ‚Äî –¥–µ—Ç–∞–ª–∏ —Ç–æ–∫–µ–Ω–∞: 
  - –ü–æ—Å–ª–µ–¥–Ω–∏–π `score/metrics`, `score_history`, `pools` (—Ç–æ–ª—å–∫–æ WSOL)
  - **–ù–æ–≤–æ–µ**: —Ä–∞–∑–±–∏–≤–∫–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ —Å–∫–æ—Ä–∏–Ω–≥–∞ (`raw_components`, `smoothed_components`)
  - **–ù–æ–≤–æ–µ**: –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –º–æ–¥–µ–ª–∏ —Å–∫–æ—Ä–∏–Ω–≥–∞ (`scoring_model`)
- `POST /tokens/{mint}/refresh` ‚Äî on‚Äëdemand –ø–µ—Ä–µ—Å—á—ë—Ç (–Ω–æ–≤—ã–π —Å–Ω–∞–ø—à–æ—Ç + score)
- `GET /tokens/{mint}/pools` ‚Äî WSOL/SOL‚Äë–ø—É–ª—ã (–∞–¥—Ä–µ—Å, dex, —Å—Å—ã–ª–∫–∞ Solscan)

### Admin
- `POST /admin/recalculate` ‚Äî –∑–∞–ø—É—Å—Ç–∏—Ç—å –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ ¬´–≥–æ—Ä—è—á–∏—Ö¬ª –∏ ¬´–æ—Å—Ç—ã–≤—à–∏—Ö¬ª —Ç–æ–∫–µ–Ω–æ–≤

### Logs
- `GET /logs?limit=&levels=&loggers=&contains=&since=` ‚Äî –ø–æ—Å–ª–µ–¥–Ω–∏–µ –∑–∞–ø–∏—Å–∏ in‚Äëmemory –±—É—Ñ–µ—Ä–∞
  - `limit` (1‚Äì500), `levels` (CSV —É—Ä–æ–≤–Ω–µ–π), `loggers` (CSV –∏–º—ë–Ω –ª–æ–≥–≥–µ—Ä–æ–≤), `contains` (–ø–æ–¥—Å—Ç—Ä–æ–∫–∞), `since` (ISO‚Äë–≤—Ä–µ–º—è)
- `GET /logs/meta` ‚Äî –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ (—Å–ø–∏—Å–æ–∫ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö `logger`)

### UI
- `/app` ‚Äî SPA (–¥–∞—à–±–æ—Ä–¥ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏)
- `/ui` ‚Äî –º–∏–Ω–∏–º–∞–ª–∏—Å—Ç–∏—á–Ω—ã–π HTML/JS UI (–ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ SPA)

### –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

**–ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –º–æ–¥–µ–ª–∏ —Å–∫–æ—Ä–∏–Ω–≥–∞:**
```bash
curl -X POST http://localhost:8000/settings/model/switch \
  -H "Content-Type: application/json" \
  -d '{"model": "hybrid_momentum"}'
```

**–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –≤–µ—Å–æ–≤ Hybrid Momentum:**
```bash
curl -X PUT http://localhost:8000/settings/w_tx \
  -H "Content-Type: application/json" \
  -d '{"value": "0.3"}'
```

**–ü–æ–ª—É—á–µ–Ω–∏–µ –¥–µ—Ç–∞–ª–∏–∑–∞—Ü–∏–∏ —Å–∫–æ—Ä–∏–Ω–≥–∞:**
```bash
curl http://localhost:8000/tokens/So11111111111111111111111111111111111111112
# –û—Ç–≤–µ—Ç –≤–∫–ª—é—á–∞–µ—Ç raw_components –∏ smoothed_components
```

–õ–æ–≥–∏ ‚Äî JSON, —Å–æ–¥–µ—Ä–∂–∞—Ç –ø–æ–ª—è `path`, `method`, `status`, `latency_ms`, –∞ —Ç–∞–∫–∂–µ –∫–ª—é—á–µ–≤—ã–µ —Å–æ–±—ã—Ç–∏—è (–ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ WS, –≤—Å—Ç–∞–≤–∫–∞/–¥—É–±–ª–∏–∫–∞—Ç—ã —Ç–æ–∫–µ–Ω–æ–≤, –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –º–µ—Ç—Ä–∏–∫/—Å–∫–æ—Ä–∞, –∞—Ä—Ö–∏–≤–∞—Ü–∏—è –∏ —Ç.–¥.).

–ü—Ä–æ–¥–∞–∫—à–µ–Ω‚Äë–¥–µ–ø–ª–æ–π (–±–µ–∑ Docker)
-----------------------------
–ù–∏–∂–µ ‚Äî –∫—Ä–∞—Ç–∫–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –¥–ª—è Ubuntu 22.04+ (–∞–Ω–∞–ª–æ–≥–∏—á–Ω–æ –Ω–∞ –¥—Ä—É–≥–∏—Ö —Å–∏—Å—Ç–µ–º–∞—Ö).

1) –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ
```
sudo apt update
sudo apt install -y python3 python3-venv python3-pip git nginx
# Node.js: —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ LTS (18+) —É–¥–æ–±–Ω—ã–º –¥–ª—è –≤–∞—Å —Å–ø–æ—Å–æ–±–æ–º (nvm/apt)
```

2) –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∏ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è
```
sudo useradd -r -m -d /srv/tothemoon -s /bin/bash tothemoon || true
sudo mkdir -p /srv/tothemoon
sudo chown -R tothemoon:tothemoon /srv/tothemoon
cd /srv/tothemoon
sudo -u tothemoon git clone <repo_url> .
```

3) –í–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ –∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
```
python3 -m venv venv
source venv/bin/activate
python -m pip install --upgrade pip
python -m pip install -r requirements.txt
```

4) –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –æ–∫—Ä—É–∂–µ–Ω–∏–µ
```
sudo tee /etc/tothemoon.env >/dev/null <<'ENV'
APP_ENV=prod
LOG_LEVEL=INFO
DATABASE_URL=postgresql+psycopg2://user:pass@127.0.0.1:5432/tothemoon
FRONTEND_DIST_PATH=/srv/tothemoon/frontend/dist
SCHEDULER_ENABLED=true
ENV
```

5) –ú–∏–≥—Ä–∞—Ü–∏–∏ –∏ —Å–±–æ—Ä–∫–∞ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞
```
source venv/bin/activate
python -m alembic upgrade head
cd frontend && npm ci && npm run build && cd -
```

6) systemd —Å–µ—Ä–≤–∏—Å—ã
```
sudo cp scripts/systemd/tothemoon.service /etc/systemd/system/
sudo cp scripts/systemd/tothemoon-ws.service /etc/systemd/system/
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—É—Ç–∏ WorkingDirectory/ExecStart –ø–æ–¥ –≤–∞—à—É —É—Å—Ç–∞–Ω–æ–≤–∫—É
sudo systemctl daemon-reload
sudo systemctl enable tothemoon.service tothemoon-ws.service
sudo systemctl start tothemoon.service tothemoon-ws.service
```

7) Nginx (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
```
sudo cp scripts/nginx/tothemoon.conf /etc/nginx/sites-available/tothemoon.conf
sudo ln -s /etc/nginx/sites-available/tothemoon.conf /etc/nginx/sites-enabled/tothemoon.conf
sudo nginx -t && sudo systemctl reload nginx
```
–ü–æ–¥–∫–ª—é—á–∏—Ç–µ HTTPS (–Ω–∞–ø—Ä–∏–º–µ—Ä, `certbot --nginx`) –∏ –≤–∫–ª—é—á–∏—Ç–µ —Ä–µ–¥–∏—Ä–µ–∫—Ç HTTP‚ÜíHTTPS.

8) –î–µ–ø–ª–æ–π –∏–∑ Git
- –ë—ã—Å—Ç—Ä—ã–π —Å–∫—Ä–∏–ø—Ç: `bash scripts/deploy.sh` (–≤—ã–ø–æ–ª–Ω—è–µ—Ç `git pull`, `pip install`, `alembic upgrade`, —Å–±–æ—Ä–∫—É —Ñ—Ä–æ–Ω—Ç–∞ –∏ `systemctl restart`).

–°–∞–º—ã–π –ø—Ä–æ—Å—Ç–æ–π —Å–ø–æ—Å–æ–± —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ (1 –∫–æ–º–∞–Ω–¥–∞)
----------------------------------------------------
–°–∫—Ä–∏–ø—Ç `scripts/install.sh` –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä—É–µ—Ç –ø–æ–¥–≥–æ—Ç–æ–≤–∫—É —Å–µ—Ä–≤–µ—Ä–∞: —Å–æ–∑–¥–∞—ë—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è, –∫–ª–æ–Ω–∏—Ä—É–µ—Ç —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –≤ `/srv/tothemoon`, –≥–æ—Ç–æ–≤–∏—Ç `venv`, –ø—Ä–∏–º–µ–Ω—è–µ—Ç –º–∏–≥—Ä–∞—Ü–∏–∏, —Å–æ–±–∏—Ä–∞–µ—Ç —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥ (–µ—Å–ª–∏ –µ—Å—Ç—å Node), —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç/–∑–∞–ø—É—Å–∫–∞–µ—Ç systemd —Å–µ—Ä–≤–∏—Å—ã –∏ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç `/health`.

–í–∞—Ä–∏–∞–Ω—Ç –ê: –∑–∞–ø—É—Å—Ç–∏—Ç—å –∏–∑ —É–∂–µ –∫–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è
```
sudo bash scripts/install.sh
```

–í–∞—Ä–∏–∞–Ω—Ç –ë: –∑–∞–ø—É—Å—Ç–∏—Ç—å –Ω–∞–ø—Ä—è–º—É—é –ø–æ —Å—Å—ã–ª–∫–µ (–±–µ–∑ –ø—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω–æ–≥–æ –∫–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è)
```
sudo bash -c "REPO_URL=https://github.com/super-sh1z01d/To_The_Moon.git bash -s" < <(curl -fsSL https://raw.githubusercontent.com/super-sh1z01d/To_The_Moon/main/scripts/install.sh)
```

–ü–∞—Ä–∞–º–µ—Ç—Ä—ã (—á–µ—Ä–µ–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è):
- `REPO_URL` ‚Äî URL —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é —Ç–µ–∫—É—â–∏–π GitHub).
- `APP_DIR` ‚Äî –ø—É—Ç—å —É—Å—Ç–∞–Ω–æ–≤–∫–∏ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é `/srv/tothemoon`).
- `APP_USER` ‚Äî —Å–∏—Å—Ç–µ–º–Ω—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é `tothemoon`).
- `ENV_FILE` ‚Äî —Ñ–∞–π–ª –æ–∫—Ä—É–∂–µ–Ω–∏—è (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é `/etc/tothemoon.env`).

–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
- `INSTALL_NODE` (true|false, –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é true) ‚Äî —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å Node.js 18 —á–µ—Ä–µ–∑ NodeSource.
- `INSTALL_NGINX` (true|false, –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é false) ‚Äî —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å Nginx –∏ —Ä–∞–∑–≤–µ—Ä–Ω—É—Ç—å reverse proxy.
  - –£–∫–∞–∂–∏—Ç–µ `SERVER_NAME=your.domain.tld` –¥–ª—è –ø–æ–¥—Å—Ç–∞–Ω–æ–≤–∫–∏ –≤ –∫–æ–Ω—Ñ–∏–≥ Nginx (–∏–Ω–∞—á–µ `_`).
- `INSTALL_POSTGRES` (true|false, –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é false) ‚Äî —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å PostgreSQL.
- `CREATE_PG_DB` (true|false, –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é false) ‚Äî —Å–æ–∑–¥–∞—Ç—å –ë–î –∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.
  - `PG_DB` (tothemoon), `PG_USER` (tothemoon), `PG_PASS` (–µ—Å–ª–∏ –Ω–µ –∑–∞–¥–∞–Ω ‚Äî —Å–≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è).
  - –°–∫—Ä–∏–ø—Ç –æ–±–Ω–æ–≤–∏—Ç `DATABASE_URL` –≤ `$ENV_FILE`.

–ü–æ—Å–ª–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏
- –û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ `/etc/tothemoon.env` –¥–ª—è –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ PostgreSQL (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é —Å—Ç–æ–∏—Ç SQLite dev.db):
  `DATABASE_URL=postgresql+psycopg2://user:pass@127.0.0.1:5432/tothemoon`
- –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ —Å–µ—Ä–≤–∏—Å—ã: `sudo systemctl restart tothemoon.service tothemoon-ws.service`
- –ü—Ä–æ–≤–µ—Ä–∫–∞: `curl -fsS http://127.0.0.1:8000/health` –¥–æ–ª–∂–Ω–æ –≤–µ—Ä–Ω—É—Ç—å `{ "status": "ok" }`.


–ü—Ä–∞–≤–∏–ª–∞ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
------------------
–°–º. `conventions.md`: —Å—Ç–µ–∫, —Å—Ç—Ä—É–∫—Ç—É—Ä–∞, —Å—Ç–∏–ª—å, –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ, –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è, –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏, —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ, –¥–µ–ø–ª–æ–π –∏–∑ Git.

–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
------------

### Unit —Ç–µ—Å—Ç—ã
```bash
# –ó–∞–ø—É—Å–∫ –≤—Å–µ—Ö —Ç–µ—Å—Ç–æ–≤
PYTHONPATH=. python3 -m pytest -v

# –¢–µ—Å—Ç—ã –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ —Å–∫–æ—Ä–∏–Ω–≥–∞
PYTHONPATH=. python3 -m pytest tests/test_component_calculator.py -v

# –¢–µ—Å—Ç—ã EWMA —Å–≥–ª–∞–∂–∏–≤–∞–Ω–∏—è
PYTHONPATH=. python3 -m pytest tests/test_ewma_service.py -v
```

### –ü–æ–∫—Ä—ã—Ç–∏–µ —Ç–µ—Å—Ç–∞–º–∏
- ‚úÖ `ComponentCalculator` ‚Äî 12 —Ç–µ—Å—Ç–æ–≤ (–≤—Å–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã + –≥—Ä–∞–Ω–∏—á–Ω—ã–µ —Å–ª—É—á–∞–∏)
- ‚úÖ `EWMAService` ‚Äî 15 —Ç–µ—Å—Ç–æ–≤ (—Å–≥–ª–∞–∂–∏–≤–∞–Ω–∏–µ + –ø–µ—Ä—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å)
- ‚úÖ –í–∞–ª–∏–¥–∞—Ü–∏—è –Ω–∞—Å—Ç—Ä–æ–µ–∫ –∏ API endpoints
- ‚úÖ –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –∏ –≥—Ä–∞–Ω–∏—á–Ω—ã—Ö —Å–ª—É—á–∞–µ–≤

### Utility —Å–∫—Ä–∏–ø—Ç—ã
- `scripts/smoke_db.py` ‚Äî –∑–∞–ø–æ–ª–Ω–µ–Ω–∏–µ —Ç–µ—Å—Ç–æ–≤—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏
- `scripts/validate_monitoring.py` ‚Äî –ø—Ä–æ–≤–µ—Ä–∫–∞ –≤–∞–ª–∏–¥–∞—Ç–æ—Ä–∞ —Ç–æ–∫–µ–Ω–æ–≤
- `scripts/update_metrics.py` ‚Äî –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –º–µ—Ç—Ä–∏–∫
- `scripts/compute_scores.py` ‚Äî —Ä–∞—Å—á–µ—Ç —Å–∫–æ—Ä–æ–≤
- `scripts/archive_tokens.py` ‚Äî –∞—Ä—Ö–∏–≤–∞—Ü–∏—è —Ç–æ–∫–µ–Ω–æ–≤

### –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –º–æ–¥–µ–ª–µ–π —Å–∫–æ—Ä–∏–Ω–≥–∞
```bash
# –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ hybrid momentum –º–æ–¥–µ–ª–∏
PYTHONPATH=. python3 -c "
from src.domain.scoring.component_calculator import ComponentCalculator
print('Tx Accel:', ComponentCalculator.calculate_tx_accel(100, 1200))
print('Vol Momentum:', ComponentCalculator.calculate_vol_momentum(1000, 12000))
print('Token Freshness:', ComponentCalculator.calculate_token_freshness(2.0, 6.0))
print('Orderflow Imbalance:', ComponentCalculator.calculate_orderflow_imbalance(600, 400))
"
```

–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –∏ —ç–∫—Å–ø–ª—É–∞—Ç–∞—Ü–∏—è
---------------------------
- –ù–µ —Ö—Ä–∞–Ω–∏—Ç–µ —Å–µ–∫—Ä–µ—Ç—ã –≤ Git. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `/etc/tothemoon.env` –∏–ª–∏ —Å–µ–∫—Ä–µ—Ç‚Äë–º–µ–Ω–µ–¥–∂–µ—Ä.
- –û–≥—Ä–∞–Ω–∏—á—å—Ç–µ CORS –Ω–∞ –ø—Ä–æ–¥–µ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –≤ dev –æ—Ç–∫—Ä—ã—Ç `*`).
- –°–ª–µ–¥–∏—Ç–µ –∑–∞ –ª–∏–º–∏—Ç–∞–º–∏ DexScreener: –ø—Ä–∏ 429 –≤ –ª–æ–≥–∞—Ö –±—É–¥–µ—Ç `rate_limited`.
- –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –∏ –≤–æ—Ä–∫–µ—Ä ‚Äî —Ä–∞–∑–¥–µ–ª—å–Ω—ã–µ –ø—Ä–æ—Ü–µ—Å—Å—ã (API + APScheduler, WS‚Äë–≤–æ—Ä–∫–µ—Ä –æ—Ç–¥–µ–ª—å–Ω—ã–º —Å–µ—Ä–≤–∏—Å–æ–º).
- –õ–æ–≥–∏ –≤ UI —á–∏—Ç–∞—é—Ç—Å—è –∏–∑ in‚Äëmemory –±—É—Ñ–µ—Ä–∞ (–ø–æ—Å–ª–µ–¥–Ω–∏–µ ~2000 –∑–∞–ø–∏—Å–µ–π, –æ–±–Ω–æ–≤–ª—è—é—Ç—Å—è –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏). –î–ª—è –¥–æ–ª–≥–æ—Å—Ä–æ—á–Ω–æ–≥–æ —Ö—Ä–∞–Ω–µ–Ω–∏—è –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –≤–Ω–µ—à–Ω–∏–µ —Ä–µ—à–µ–Ω–∏—è (journald/ELK –∏ —Ç.–ø.).

–î–æ—Ä–æ–∂–Ω–∞—è –∫–∞—Ä—Ç–∞
--------------

### –ë–ª–∏–∂–∞–π—à–∏–µ –ø–ª–∞–Ω—ã
- ‚úÖ **Hybrid Momentum –º–æ–¥–µ–ª—å —Å–∫–æ—Ä–∏–Ω–≥–∞** ‚Äî —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞
- ‚úÖ **EWMA —Å–≥–ª–∞–∂–∏–≤–∞–Ω–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤** ‚Äî —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ
- ‚úÖ **–ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –º–æ–¥–µ–ª–∏ —Å–∫–æ—Ä–∏–Ω–≥–∞** ‚Äî —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ
- ‚úÖ **–†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–π API –¥–ª—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤** ‚Äî —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω

### –°–ª–µ–¥—É—é—â–∏–µ —ç—Ç–∞–ø—ã
- **–ú–µ—Ç—Ä–∏–∫–∞ holders** (Helius API) –¥–ª—è –±–æ–ª–µ–µ —Ç–æ—á–Ω–æ–≥–æ —Ä–∞—Å—á–µ—Ç–∞ Holder_Growth
- **–ú–∞—à–∏–Ω–Ω–æ–µ –æ–±—É—á–µ–Ω–∏–µ**: –æ–±—É—á–µ–Ω–∏–µ –≤–µ—Å–æ–≤ –º–æ–¥–µ–ª–∏ –Ω–∞ –∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏—Ö –¥–∞–Ω–Ω—ã—Ö
- **–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –º–æ–¥–µ–ª–∏ —Å–∫–æ—Ä–∏–Ω–≥–∞**: 
  - Momentum + Mean Reversion
  - Technical Analysis based
  - Social Sentiment integration
- **–†–∞—Å—à–∏—Ä–µ–Ω–Ω–∞—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∞**:
  - –ö–æ—Ä—Ä–µ–ª—è—Ü–∏–æ–Ω–Ω—ã–π –∞–Ω–∞–ª–∏–∑ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
  - –ë—ç–∫—Ç–µ—Å—Ç–∏–Ω–≥ –º–æ–¥–µ–ª–µ–π —Å–∫–æ—Ä–∏–Ω–≥–∞
  - A/B —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –º–æ–¥–µ–ª–µ–π

### –£–ª—É—á—à–µ–Ω–∏—è UI/UX
- **–ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–µ –≥—Ä–∞—Ñ–∏–∫–∏** –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ —Å–∫–æ—Ä–∏–Ω–≥–∞
- **–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –≤–µ—Å–æ–≤** —á–µ—Ä–µ–∑ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
- **–°—Ä–∞–≤–Ω–µ–Ω–∏–µ –º–æ–¥–µ–ª–µ–π** –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
- **–ê–ª–µ—Ä—Ç—ã** –Ω–∞ –æ—Å–Ω–æ–≤–µ —Å–∫–æ—Ä–∏–Ω–≥–∞

### –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è
- **Cursor-based –ø–∞–≥–∏–Ω–∞—Ü–∏—è** –¥–ª—è –±–æ–ª—å—à–∏—Ö –æ–±—ä–µ–º–æ–≤ –¥–∞–Ω–Ω—ã—Ö
- **–ü–æ–∏—Å–∫ –ø–æ –∏–º–µ–Ω–∏/—Å–∏–º–≤–æ–ª—É** —Ç–æ–∫–µ–Ω–æ–≤
- **–ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ** —Ä–∞—Å—á–µ—Ç–æ–≤ —Å–∫–æ—Ä–∏–Ω–≥–∞
- **–ú–µ—Ç—Ä–∏–∫–∏ Prometheus** –∏ –¥–∞—à–±–æ—Ä–¥ Grafana
- **–ì–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω–æ–µ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ** scheduler'–∞

Ansible –¥–µ–ø–ª–æ–π (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
----------------------------
–ü–æ–¥–≥–æ—Ç–æ–≤–ª–µ–Ω Ansible‚Äë–ø–ª–µ–π–±—É–∫ –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ —Ä–∞–∑–≤—ë—Ä—Ç—ã–≤–∞–Ω–∏—è:

- inventory: `ansible/inventory.example` (–Ω–∞—Å—Ç—Ä–æ–π—Ç–µ `ansible_host`, `ansible_user` –∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ).
- –∑–∞–ø—É—Å–∫: `ansible-playbook -i ansible/inventory.example ansible/playbook.yml`

–ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ (–ø—Ä–∏–º–µ—Ä –≤ inventory.example):
- `repo_url`, `app_dir`, `app_user`, `server_name`, `database_url`
- `install_node` (true), `install_nginx` (false)
- `install_postgres` (false), `create_pg_db` (false), `pg_db`, `pg_user`, `pg_pass`
- `install_certbot` (false), `certbot_email`

–†–æ–ª—å –≤—ã–ø–æ–ª–Ω–∏—Ç —É—Å—Ç–∞–Ω–æ–≤–∫—É –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π, –∫–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–ø–æ, —Å–æ–∑–¥–∞–Ω–∏–µ venv, –º–∏–≥—Ä–∞—Ü–∏–∏, —Å–±–æ—Ä–∫—É —Ñ—Ä–æ–Ω—Ç–∞, —É—Å—Ç–∞–Ω–æ–≤–∫—É systemd —é–Ω–∏—Ç–æ–≤, (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) nginx –∏ certbot, –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫ —Å–µ—Ä–≤–∏—Å–æ–≤ –∏ health‚Äëcheck.
